@prefix owl:   <http://www.w3.org/2002/07/owl#> .
@prefix rdf:   <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs:  <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd:   <http://www.w3.org/2001/XMLSchema#> .
@prefix s3dg:  <http://example.org/s3Dgraphy#> .

#################################################
# Ontology Declaration
#################################################
s3dg:S3DgraphyOntology a owl:Ontology ;
    rdfs:comment "Ontologia per s3Dgraphy, generata a partire dai dati nella cartella JSONconfig. Include le relazioni strutturali tra nodi e le loro proprietà." .

#################################################
# CLASSI PRINCIPALI (Nodi) 
#################################################

# Classe base: Node
s3dg:Node a owl:Class ;
    rdfs:label "Node" ;
    rdfs:comment "Classe base per tutti i nodi del grafo." .

# Classe ParadataNode (sottoclasse di Node)
s3dg:ParadataNode a owl:Class ;
    rdfs:subClassOf s3dg:Node ;
    rdfs:label "ParadataNode" ;
    rdfs:comment "Classe base per nodi che rappresentano metadati su come sono stati generati i dati." .

# Classe StratigraphicNode (sottoclasse di Node)
s3dg:StratigraphicNode a owl:Class ;
    rdfs:subClassOf s3dg:Node ;
    rdfs:label "StratigraphicNode" ;
    rdfs:comment "Classe base per le unità stratigrafiche all'interno del grafo." .

# Sottoclassi di StratigraphicNode
s3dg:US a owl:Class ;
    rdfs:subClassOf s3dg:StratigraphicNode ;
    rdfs:label "US" ;
    rdfs:comment "Stratigraphic Unit (SU): unità fisica identificabile." .

s3dg:USVs a owl:Class ;
    rdfs:subClassOf s3dg:StratigraphicNode ;
    rdfs:label "USVs" ;
    rdfs:comment "Structural Virtual Stratigraphic Unit: ricostruzione virtuale di elementi strutturali." .

s3dg:USVn a owl:Class ;
    rdfs:subClassOf s3dg:StratigraphicNode ;
    rdfs:label "USVn" ;
    rdfs:comment "Non-structural Virtual Stratigraphic Unit: ricostruzione virtuale di elementi non strutturali." .

s3dg:SF a owl:Class ;
    rdfs:subClassOf s3dg:StratigraphicNode ;
    rdfs:label "SF" ;
    rdfs:comment "Special Find Unit: elemento di particolare interesse non in situ." .

s3dg:VSF a owl:Class ;
    rdfs:subClassOf s3dg:StratigraphicNode ;
    rdfs:label "VSF" ;
    rdfs:comment "Virtual Special Find: ricostruzione virtuale di un reperto frammentato." .

s3dg:serSU a owl:Class ;
    rdfs:subClassOf s3dg:StratigraphicNode ;
    rdfs:label "serSU" ;
    rdfs:comment "Serie di unità stratigrafiche." .

s3dg:serUSVn a owl:Class ;
    rdfs:subClassOf s3dg:StratigraphicNode ;
    rdfs:label "serUSVn" ;
    rdfs:comment "Serie di unità virtuali non strutturali." .

s3dg:serUSVs a owl:Class ;
    rdfs:subClassOf s3dg:StratigraphicNode ;
    rdfs:label "serUSVs" ;
    rdfs:comment "Serie di unità virtuali strutturali." .

s3dg:USD a owl:Class ;
    rdfs:subClassOf s3dg:StratigraphicNode ;
    rdfs:label "USD" ;
    rdfs:comment "Documentary Stratigraphic Unit basata su fonti storiche/documentarie." .

s3dg:TSU a owl:Class ;
    rdfs:subClassOf s3dg:StratigraphicNode ;
    rdfs:label "TSU" ;
    rdfs:comment "Transformation Unit: rappresenta un processo di cambiamento in una unità stratigrafica." .

s3dg:BR a owl:Class ;
    rdfs:subClassOf s3dg:StratigraphicNode ;
    rdfs:label "BR" ;
    rdfs:comment "Continuity Node: marca la fine dell'esistenza di un'unità stratigrafica." .

s3dg:SE a owl:Class ;
    rdfs:subClassOf s3dg:StratigraphicNode ;
    rdfs:label "SE" ;
    rdfs:comment "Stratigraphic Event Node: evento che porta alla formazione o modifica di una unità stratigrafica." .

# Sottoclassi di ParadataNode
s3dg:DocumentNode a owl:Class ;
    rdfs:subClassOf s3dg:ParadataNode ;
    rdfs:label "DocumentNode" ;
    rdfs:comment "Nodo che rappresenta un documento o una fonte." .

s3dg:PropertyNode a owl:Class ;
    rdfs:subClassOf s3dg:ParadataNode ;
    rdfs:label "PropertyNode" ;
    rdfs:comment "Nodo che rappresenta una proprietà associata a un altro nodo." .

s3dg:ExtractorNode a owl:Class ;
    rdfs:subClassOf s3dg:ParadataNode ;
    rdfs:label "ExtractorNode" ;
    rdfs:comment "Nodo che rappresenta l'estrazione di informazioni da una fonte." .

s3dg:CombinerNode a owl:Class ;
    rdfs:subClassOf s3dg:ParadataNode ;
    rdfs:label "CombinerNode" ;
    rdfs:comment "Nodo che rappresenta un ragionamento che combina informazioni da più sorgenti." .

# Classe GroupNode (sottoclasse di Node)
s3dg:GroupNode a owl:Class ;
    rdfs:subClassOf s3dg:Node ;
    rdfs:label "GroupNode" ;
    rdfs:comment "Nodo che rappresenta un raggruppamento di nodi." .

# Sottoclassi di GroupNode
s3dg:ActivityNodeGroup a owl:Class ;
    rdfs:subClassOf s3dg:GroupNode ;
    rdfs:label "ActivityNodeGroup" ;
    rdfs:comment "Gruppo di nodi rappresentante un'attività narrativa o logica." .

s3dg:ParadataNodeGroup a owl:Class ;
    rdfs:subClassOf s3dg:GroupNode ;
    rdfs:label "ParadataNodeGroup" ;
    rdfs:comment "Gruppo di nodi dedicato alle informazioni meta (paradata)." .

s3dg:TimeBranchNodeGroup a owl:Class ;
    rdfs:subClassOf s3dg:GroupNode ;
    rdfs:label "TimeBranchNodeGroup" ;
    rdfs:comment "Gruppo di nodi appartenenti a una specifica branch temporale." .

# Altre classi principali
s3dg:EpochNode a owl:Class ;
    rdfs:subClassOf s3dg:Node ;
    rdfs:label "EpochNode" ;
    rdfs:comment "Nodo che rappresenta un'epoca temporale." .

s3dg:GeoPositionNode a owl:Class ;
    rdfs:subClassOf s3dg:Node ;
    rdfs:label "GeoPositionNode" ;
    rdfs:comment "Nodo che rappresenta una posizione geografica." .

s3dg:LinkNode a owl:Class ;
    rdfs:subClassOf s3dg:Node ;
    rdfs:label "LinkNode" ;
    rdfs:comment "Nodo che rappresenta una risorsa collegata esterna." .

s3dg:GraphNode a owl:Class ;
    rdfs:subClassOf s3dg:Node ;
    rdfs:label "GraphNode" ;
    rdfs:comment "Nodo che rappresenta il grafo stesso come entità nel sistema." .

s3dg:AuthorNode a owl:Class ;
    rdfs:subClassOf s3dg:Node ;
    rdfs:label "AuthorNode" ;
    rdfs:comment "Nodo che rappresenta un autore." .

s3dg:LicenseNode a owl:Class ;
    rdfs:subClassOf s3dg:Node ;
    rdfs:label "LicenseNode" ;
    rdfs:comment "Nodo che rappresenta una licenza." .

s3dg:EmbargoNode a owl:Class ;
    rdfs:subClassOf s3dg:Node ;
    rdfs:label "EmbargoNode" ;
    rdfs:comment "Nodo che rappresenta una restrizione temporale sull'accesso o distribuzione." .

# Rappresentazioni 3D
s3dg:RepresentationNode a owl:Class ;
    rdfs:subClassOf s3dg:Node ;
    rdfs:label "RepresentationNode" ;
    rdfs:comment "Classe base per tutti i nodi di rappresentazione nello spazio 3D." .

s3dg:RepresentationModelNode a owl:Class ;
    rdfs:subClassOf s3dg:RepresentationNode ;
    rdfs:label "RepresentationModelNode" ;
    rdfs:comment "Nodo che rappresenta un modello 3D o un'immagine spazializzata." .

s3dg:RepresentationModelDocNode a owl:Class ;
    rdfs:subClassOf s3dg:RepresentationNode ;
    rdfs:label "RepresentationModelDocNode" ;
    rdfs:comment "Nodo che rappresenta un modello 3D o un'immagine spazializzata per documenti." .

s3dg:RepresentationModelSpecialFindNode a owl:Class ;
    rdfs:subClassOf s3dg:RepresentationNode ;
    rdfs:label "RepresentationModelSpecialFindNode" ;
    rdfs:comment "Nodo che rappresenta un modello 3D per reperti speciali." .

s3dg:SemanticShapeNode a owl:Class ;
    rdfs:subClassOf s3dg:Node ;
    rdfs:label "SemanticShapeNode" ;
    rdfs:comment "Nodo che rappresenta una forma semantica nello spazio 3D." .

#################################################
# OBJECT PROPERTIES (Relazioni)
#################################################

# Relazioni stratigrafiche
s3dg:isBefore a owl:ObjectProperty ;
    rdfs:label "isBefore" ;
    rdfs:comment "Indica una sequenza temporale dove un elemento precede l'altro." ;
    rdfs:domain s3dg:StratigraphicNode ;
    rdfs:range s3dg:StratigraphicNode .

s3dg:hasSameTime a owl:ObjectProperty ;
    rdfs:label "hasSameTime" ;
    rdfs:comment "Indica che due elementi sono contemporanei." ;
    rdfs:domain s3dg:StratigraphicNode ;
    rdfs:range s3dg:StratigraphicNode .

s3dg:changedFrom a owl:ObjectProperty ;
    rdfs:label "changedFrom" ;
    rdfs:comment "Rappresenta un oggetto che cambia nel tempo." ;
    rdfs:domain s3dg:StratigraphicNode ;
    rdfs:range s3dg:StratigraphicNode .

# Relazioni con le epoche
s3dg:hasFirstEpoch a owl:ObjectProperty ;
    rdfs:label "hasFirstEpoch" ;
    rdfs:comment "Indica l'epoca iniziale associata ad un nodo." ;
    rdfs:domain s3dg:StratigraphicNode ;
    rdfs:range s3dg:EpochNode .

s3dg:surviveInEpoch a owl:ObjectProperty ;
    rdfs:label "surviveInEpoch" ;
    rdfs:comment "Indica che un nodo continua ad esistere in una data epoca." ;
    rdfs:domain s3dg:StratigraphicNode ;
    rdfs:range s3dg:EpochNode .

# Relazioni di provenance
s3dg:hasDataProvenance a owl:ObjectProperty ;
    rdfs:label "hasDataProvenance" ;
    rdfs:comment "Indica la provenienza dei dati, spesso collegando a nodi fonte." ;
    rdfs:domain s3dg:Node ;
    rdfs:range s3dg:ParadataNode .

s3dg:hasProperty a owl:ObjectProperty ;
    rdfs:label "hasProperty" ;
    rdfs:comment "Collega un nodo ad una delle sue proprietà." ;
    rdfs:domain s3dg:Node ;
    rdfs:range s3dg:PropertyNode .

s3dg:extractedFrom a owl:ObjectProperty ;
    rdfs:label "extractedFrom" ;
    rdfs:comment "Indica che l'informazione è derivata da una particolare fonte." ;
    rdfs:domain s3dg:ExtractorNode ;
    rdfs:range s3dg:DocumentNode .

s3dg:combines a owl:ObjectProperty ;
    rdfs:label "combines" ;
    rdfs:comment "Indica che un nodo combina informazioni da varie fonti." ;
    rdfs:domain s3dg:CombinerNode ;
    rdfs:range s3dg:ExtractorNode .

# Relazioni con i gruppi
s3dg:isInActivity a owl:ObjectProperty ;
    rdfs:label "isInActivity" ;
    rdfs:comment "Indica che un nodo fa parte di una specifica attività." ;
    rdfs:domain s3dg:Node ;
    rdfs:range s3dg:ActivityNodeGroup .

s3dg:hasTimeBranch a owl:ObjectProperty ;
    rdfs:label "hasTimeBranch" ;
    rdfs:comment "Indica che un nodo è connesso a uno specifico ramo temporale." ;
    rdfs:domain s3dg:Node ;
    rdfs:range s3dg:TimeBranchNodeGroup .

s3dg:isInTimeBranch a owl:ObjectProperty ;
    rdfs:label "isInTimeBranch" ;
    rdfs:comment "Indica che un nodo appartiene a uno specifico ramo temporale." ;
    rdfs:domain s3dg:Node ;
    rdfs:range s3dg:TimeBranchNodeGroup .

s3dg:isInParadataNodeGroup a owl:ObjectProperty ;
    rdfs:label "isInParadataNodeGroup" ;
    rdfs:comment "Indica che un nodo è incluso in un gruppo di paradata." ;
    rdfs:domain s3dg:ParadataNode ;
    rdfs:range s3dg:ParadataNodeGroup .

s3dg:hasParadataNodeGroup a owl:ObjectProperty ;
    rdfs:label "hasParadataNodeGroup" ;
    rdfs:comment "Indica che un nodo appartiene a un gruppo di paradata." ;
    rdfs:domain s3dg:ParadataNodeGroup ;
    rdfs:range s3dg:ActivityNodeGroup .

# Relazioni per le risorse collegate
s3dg:hasLinkedResource a owl:ObjectProperty ;
    rdfs:label "hasLinkedResource" ;
    rdfs:comment "Collega un nodo alle sue risorse collegate." ;
    rdfs:domain s3dg:Node ;
    rdfs:range s3dg:LinkNode .

s3dg:hasSemanticShape a owl:ObjectProperty ;
    rdfs:label "hasSemanticShape" ;
    rdfs:comment "Collega qualsiasi nodo alla sua rappresentazione di forma semantica nello spazio 3D." ;
    rdfs:domain s3dg:Node ;
    rdfs:range s3dg:SemanticShapeNode .

s3dg:hasRepresentationModel a owl:ObjectProperty ;
    rdfs:label "hasRepresentationModel" ;
    rdfs:comment "Collega qualsiasi nodo al suo modello di rappresentazione nello spazio 3D." ;
    rdfs:domain s3dg:Node ;
    rdfs:range s3dg:RepresentationNode .

# Altre relazioni
s3dg:hasAuthor a owl:ObjectProperty ;
    rdfs:label "hasAuthor" ;
    rdfs:comment "Collega un nodo al suo autore." ;
    rdfs:domain s3dg:Node ;
    rdfs:range s3dg:AuthorNode .

s3dg:hasLicense a owl:ObjectProperty ;
    rdfs:label "hasLicense" ;
    rdfs:comment "Indica che una risorsa è soggetta a una specifica licenza." ;
    rdfs:domain s3dg:Node ;
    rdfs:range s3dg:LicenseNode .

s3dg:hasEmbargo a owl:ObjectProperty ;
    rdfs:label "hasEmbargo" ;
    rdfs:comment "Indica che una licenza ha un embargo temporale associato." ;
    rdfs:domain s3dg:LicenseNode ;
    rdfs:range s3dg:EmbargoNode .

s3dg:contrastsWith a owl:ObjectProperty ;
    rdfs:label "contrastsWith" ;
    rdfs:comment "Rappresenta proprietà contrastanti o mutuamente esclusive." ;
    rdfs:domain s3dg:Node ;
    rdfs:range s3dg:Node .

s3dg:genericConnection a owl:ObjectProperty ;
    rdfs:label "genericConnection" ;
    rdfs:comment "Rappresenta una connessione non specifica tra due nodi." ;
    rdfs:domain s3dg:Node ;
    rdfs:range s3dg:Node .

#################################################
# DATA PROPERTIES (Proprietà)
#################################################

# Proprietà base per tutti i nodi
s3dg:nodeId a owl:DatatypeProperty ;
    rdfs:label "nodeId" ;
    rdfs:comment "Identificatore univoco per il nodo." ;
    rdfs:domain s3dg:Node ;
    rdfs:range xsd:string .

s3dg:name a owl:DatatypeProperty ;
    rdfs:label "name" ;
    rdfs:comment "Nome del nodo." ;
    rdfs:domain s3dg:Node ;
    rdfs:range xsd:string .

s3dg:description a owl:DatatypeProperty ;
    rdfs:label "description" ;
    rdfs:comment "Descrizione del nodo." ;
    rdfs:domain s3dg:Node ;
    rdfs:range xsd:string .

s3dg:url a owl:DatatypeProperty ;
    rdfs:label "url" ;
    rdfs:comment "URL associato al nodo." ;
    rdfs:domain s3dg:Node ;
    rdfs:range xsd:string .

s3dg:yPosition a owl:DatatypeProperty ;
    rdfs:label "yPosition" ;
    rdfs:comment "Posizione verticale del nodo." ;
    rdfs:domain s3dg:Node ;
    rdfs:range xsd:float .

s3dg:graphMLSource a owl:DatatypeProperty ;
    rdfs:label "graphMLSource" ;
    rdfs:comment "File sorgente GraphML originale per il nodo." ;
    rdfs:domain s3dg:Node ;
    rdfs:range xsd:string .

# Proprietà per PropertyNode
s3dg:propertyValue a owl:DatatypeProperty ;
    rdfs:label "propertyValue" ;
    rdfs:comment "Valore di una proprietà." ;
    rdfs:domain s3dg:PropertyNode ;
    rdfs:range xsd:string .

s3dg:propertyType a owl:DatatypeProperty ;
    rdfs:label "propertyType" ;
    rdfs:comment "Tipo di proprietà." ;
    rdfs:domain s3dg:PropertyNode ;
    rdfs:range xsd:string .

# Proprietà per EpochNode
s3dg:startTime a owl:DatatypeProperty ;
    rdfs:label "startTime" ;
    rdfs:comment "Tempo di inizio di un'epoca." ;
    rdfs:domain s3dg:EpochNode ;
    rdfs:range xsd:float .

s3dg:endTime a owl:DatatypeProperty ;
    rdfs:label "endTime" ;
    rdfs:comment "Tempo di fine di un'epoca." ;
    rdfs:domain s3dg:EpochNode ;
    rdfs:range xsd:float .

s3dg:color a owl:DatatypeProperty ;
    rdfs:label "color" ;
    rdfs:comment "Colore associato al nodo." ;
    rdfs:domain s3dg:EpochNode ;
    rdfs:range xsd:string .

# Proprietà per LicenseNode
s3dg:licenseType a owl:DatatypeProperty ;
    rdfs:label "licenseType" ;
    rdfs:comment "Tipo di licenza." ;
    rdfs:domain s3dg:LicenseNode ;
    rdfs:range xsd:string .

# Proprietà per AuthorNode
s3dg:orcid a owl:DatatypeProperty ;
    rdfs:label "orcid" ;
    rdfs:comment "Identificatore ORCID di un autore." ;
    rdfs:domain s3dg:AuthorNode ;
    rdfs:range xsd:string .

# Proprietà per EmbargoNode
s3dg:embargoStart a owl:DatatypeProperty ;
    rdfs:label "embargoStart" ;
    rdfs:comment "Data di inizio di un embargo." ;
    rdfs:domain s3dg:EmbargoNode ;
    rdfs:range xsd:date .

s3dg:embargoEnd a owl:DatatypeProperty ;
    rdfs:label "embargoEnd" ;
    rdfs:comment "Data di fine di un embargo." ;
    rdfs:domain s3dg:EmbargoNode ;
    rdfs:range xsd:date .

# Proprietà per GeoPositionNode
s3dg:epsgCode a owl:DatatypeProperty ;
    rdfs:label "epsgCode" ;
    rdfs:comment "Codice EPSG per il sistema di riferimento delle coordinate." ;
    rdfs:domain s3dg:GeoPositionNode ;
    rdfs:range xsd:integer .

s3dg:shiftX a owl:DatatypeProperty ;
    rdfs:label "shiftX" ;
    rdfs:comment "Spostamento lungo l'asse X." ;
    rdfs:domain s3dg:GeoPositionNode ;
    rdfs:range xsd:float .

s3dg:shiftY a owl:DatatypeProperty ;
    rdfs:label "shiftY" ;
    rdfs:comment "Spostamento lungo l'asse Y." ;
    rdfs:domain s3dg:GeoPositionNode ;
    rdfs:range xsd:float .

s3dg:shiftZ a owl:DatatypeProperty ;
    rdfs:label "shiftZ" ;
    rdfs:comment "Spostamento lungo l'asse Z." ;
    rdfs:domain s3dg:GeoPositionNode ;
    rdfs:range xsd:float .

# Proprietà per RepresentationNode
s3dg:position a owl:DatatypeProperty ;
    rdfs:label "position" ;
    rdfs:comment "Posizione nello spazio 3D." ;
    rdfs:domain s3dg:RepresentationNode ;
    rdfs:range xsd:string .

s3dg:rotation a owl:DatatypeProperty ;
    rdfs:label "rotation" ;
    rdfs:comment "Rotazione nello spazio 3D." ;
    rdfs:domain s3dg:RepresentationNode ;
    rdfs:range xsd:string .

s3dg:scale a owl:DatatypeProperty ;
    rdfs:label "scale" ;
    rdfs:comment "Scala nello spazio 3D." ;
    rdfs:domain s3dg:RepresentationNode ;
    rdfs:range xsd:string .

# Proprietà per GraphNode
s3dg:graphCode a owl:DatatypeProperty ;
    rdfs:label "graphCode" ;
    rdfs:comment "Codice leggibile da umani per il grafo." ;
    rdfs:domain s3dg:GraphNode ;
    rdfs:range xsd:string .

# Proprietà per SemanticShapeNode
s3dg:shapeType a owl:DatatypeProperty ;
    rdfs:label "shapeType" ;
    rdfs:comment "Tipo di forma semantica." ;
    rdfs:domain s3dg:SemanticShapeNode ;
    rdfs:range xsd:string .

# Proprietà specifiche per CIDOC-CRM mapping
s3dg:cidocMapping a owl:DatatypeProperty ;
    rdfs:label "cidocMapping" ;
    rdfs:comment "Mappatura verso CIDOC-CRM." ;
    rdfs:domain s3dg:Node ;
    rdfs:range xsd:string .

s3dg:cidocClass a owl:DatatypeProperty ;
    rdfs:label "cidocClass" ;
    rdfs:comment "Classe CIDOC-CRM corrispondente." ;
    rdfs:domain s3dg:Node ;
    rdfs:range xsd:string .

s3dg:cidocProperty a owl:DatatypeProperty ;
    rdfs:label "cidocProperty" ;
    rdfs:comment "Proprietà CIDOC-CRM corrispondente." ;
    rdfs:domain owl:ObjectProperty ;
    rdfs:range xsd:string .

# Proprietà per gestire il versioning
s3dg:versionInfo a owl:DatatypeProperty ;
    rdfs:label "versionInfo" ;
    rdfs:comment "Informazioni sulla versione." ;
    rdfs:domain s3dg:Node ;
    rdfs:range xsd:string .

s3dg:dateCreated a owl:DatatypeProperty ;
    rdfs:label "dateCreated" ;
    rdfs:comment "Data di creazione del nodo." ;
    rdfs:domain s3dg:Node ;
    rdfs:range xsd:dateTime .

s3dg:lastModified a owl:DatatypeProperty ;
    rdfs:label "lastModified" ;
    rdfs:comment "Data dell'ultima modifica del nodo." ;
    rdfs:domain s3dg:Node ;
    rdfs:range xsd:dateTime .
